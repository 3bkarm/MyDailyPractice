## [Trapping Rain Water II](https://leetcode.com/problems/trapping-rain-water-ii/description/?envType=daily-question&envId=2025-10-03)
```java
class Solution {
    final static int[] dx = { 0, 0, -1, 1 };
    final static int[] dy = { -1, 1, 0, 0 };
    public int trapRainWater(int[][] heightMap) {
        int n = heightMap.length;
        int m = heightMap[0].length;
        boolean[][] vis = new boolean[n][m];
        PriorityQueue<int[]> pq = new PriorityQueue<>( (int[] a, int[] b) -> a[0] - b[0] );
        for (int i = 0; i < n; ++i) {
            vis[i][0] = true;
            vis[i][m - 1] = true;
            int[] t = new int[] { heightMap[i][0], i, 0 };
            pq.add(t);
            t = new int[] { heightMap[i][m - 1], i, m - 1 };
            pq.add(t);
        }
        for (int i = 1; i < m - 1; ++i) {
            vis[0][i] = true;
            vis[n - 1][i] = true;
            int[] t = new int[] { heightMap[0][i], 0, i };
            pq.add(t);
            t = new int[] { heightMap[n - 1][i], n - 1, i };
            pq.add(t);
        }
        int ans = 0, level = 0;
        while ( !pq.isEmpty() ) {
            int[] t = pq.peek();
            pq.remove();
            int h = t[0], x = t[1], y = t[2];
            level = Math.max(level, h);
            for (int move = 0, tox, toy; move < 4; ++move) {
                tox = x + dx[move];
                toy = y + dy[move];
                if ( tox < 0 || tox >= n || toy < 0 || toy >= m || vis[tox][toy] ) {
                    continue;
                }
                vis[tox][toy] = true;
                t = new int[] { heightMap[tox][toy], tox, toy };
                pq.add(t);
                if (heightMap[tox][toy] < level)
                    ans += level - heightMap[tox][toy];
            }
        }
        return ans;
    }
}
```
